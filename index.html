<!DOCTYPE html>
<html>
  <head>
    <title>Necromunda - Shooting Phase</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
	  <meta name="viewport" content="width=device-width, initial-scale=0.80">
   <link rel="stylesheet" href="style.css">
  </head>
  <body>


    <div class="main-block">
    <form action="/">
      <h1></h1>
      <fieldset>
        <legend>
          <h3>Roll to hit</h3>
        </legend>
        <div  class="ToHit">
          <div><label>Balistic Skills (BS):</label><input type="text" id="BS" value="" pattern="\d*" maxlength="1" onkeyup="ToHit();"></div>
          <div><label title="Aim, Mono-sight">Positive to hit modifier:</label><input type="text" id="PositiveToHitMod" value="0" pattern="\d*" maxlength="1" onkeyup="ToHit();"></div>
          <div><label title="Full/partial cover">Negative to hit modifier: </label><input type="text" id="NegativeToHitMod" value="0" pattern="\d*" maxlength="1" onkeyup="ToHit();"></div>
		  <div class="ToHitOutput"></div>
        </div>
      </fieldset>

  <fieldset>
        <legend>
          <h3>Roll to wound</h3>
        </legend>
        <div class="ToWound">
          <div><label>Stength of weapon:</label><input type="text" id="WS" value="" pattern="\d*" maxlength="2" onkeyup="ToWound();"></div>
          <div><label>Toughness of target:</label><input type="text" id="Toughness" value="" pattern="\d*" maxlength="2" onkeyup="ToWound();"></div>
		  <div class="ToWoundOutput"></div>
        </div>
      </fieldset>


  <fieldset>
        <legend>
          <h3>Save roll</h3>
        </legend>
        <div  class="ArmourSave">
          <div><label title="A + Armored Body Glove + Mesh Armour">Target armour:</label><input type="text" id="Armour" value="" pattern="\d*" maxlength="2" onkeyup="ArmourSave();"></div>
          <div><label title="AP is based on the weapon">Armour Penetration (AP):</label><input type="text" id="AP" value="" pattern="\d*" maxlength="2" onkeyup="ArmourSave();"></div>
		  <div class="ArmourSaveOutput"></div>
        </div>
      </fieldset>



  <fieldset>
        <legend>
          <h3>Inflict damage</h3>
        </legend>
        <div  class="InflictDamage">
          <div><label>Weapon damage:</label><input type="text" name="name" pattern="\d*" maxlength="0"></div>
          <div><label>Target wounds:</label><input type="text" name="name" " pattern="\d*" maxlength="0"></div>
        </div>
      </fieldset>

    </form>
    </div> 
  </body>
  
  
<script>

function ToHit() {
	
	let BS = document.getElementById("BS").value;
	let PositiveToHitMod = document.getElementById("PositiveToHitMod").value;
	let NegativeToHitMod = document.getElementById("NegativeToHitMod").value;
		  

	let ToHitOutputCalc = parseFloat(BS) - parseFloat(PositiveToHitMod) + parseFloat(NegativeToHitMod);
		  
	if (BS == ""){
	BS == 0;
	}
	
	if (parseFloat(ToHitOutputCalc) < 2)
	{
		document.getElementsByClassName("ToHitOutput")[0].innerHTML = "2+";
	}
	else if(parseFloat(ToHitOutputCalc) > 5){
		document.getElementsByClassName("ToHitOutput")[0].innerHTML = "5+";
	}
	else {
	ToHitOutputCalc = ToHitOutputCalc;
	document.getElementsByClassName("ToHitOutput")[0].innerHTML = ToHitOutputCalc+"+";
	}

}



function ToWound() {

	let WS = document.getElementById("WS").value;
	let Toughness = document.getElementById("Toughness").value;
	
	if (parseFloat(WS)/parseFloat(Toughness) >= 2)
	{
		document.getElementsByClassName("ToWoundOutput")[0].innerHTML = "2+";
	}
	else if(parseFloat(WS) > parseFloat(Toughness)){
		document.getElementsByClassName("ToWoundOutput")[0].innerHTML = "3+";
	}
	if(parseFloat(WS) == parseFloat(Toughness)){
		document.getElementsByClassName("ToWoundOutput")[0].innerHTML = "4+";
	}
	if(parseFloat(WS) < parseFloat(Toughness)){
		document.getElementsByClassName("ToWoundOutput")[0].innerHTML = "5+";
	}
	if (parseFloat(Toughness)/parseFloat(WS) >= 2) {
		document.getElementsByClassName("ToWoundOutput")[0].innerHTML = "6+";
	}

}


function ArmourSave() {

	let Armour = document.getElementById("Armour").value;
	let AP = document.getElementById("AP").value;
	
	if (Armour - AP < 1){
	document.getElementsByClassName("ArmourSaveOutput")[0].innerHTML = "No armour save can be rolled";
	}
	if (Armour - AP == 1){
	document.getElementsByClassName("ArmourSaveOutput")[0].innerHTML = "6+";
	}
	if (Armour - AP == 2){
	document.getElementsByClassName("ArmourSaveOutput")[0].innerHTML = "5+";
	}
	if (Armour - AP== 3){
	document.getElementsByClassName("ArmourSaveOutput")[0].innerHTML = "4+";
	}
	if (Armour - AP == 4){
	document.getElementsByClassName("ArmourSaveOutput")[0].innerHTML = "3+";
	}
	if (Armour - AP > 4){
	document.getElementsByClassName("ArmourSaveOutput")[0].innerHTML = "2+";
	}
}



</script>


</html>
